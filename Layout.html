<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ANeKI - Gastroturismo</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Special+Elite&display=swap');

      :root {
        --md-ref-typeface-brand: 'Special Elite', cursive;
        --mdc-theme-primary: #009688; /* Teal 500 */
        --mdc-theme-on-primary: #FFFFFF;
        --mdc-theme-secondary: #4DB6AC; /* Teal 300 */
        --mdc-theme-on-secondary: #FFFFFF;
        --mdc-theme-surface: #E0F2F1; /* Teal 50 */
        --mdc-theme-on-surface: #004D40; /* Teal 900 */
        --mdc-theme-background: #B2DFDB; /* Teal 100 */
        --mdc-theme-primary-container: #A7FFEB; /* Teal A100 */
        --mdc-theme-on-primary-container: #004D40; /* Teal 900 */
        --top-app-bar-height: 64px; /* Altura de la Top App Bar, ajustar si cambia */
      }

      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: 'Roboto', sans-serif;
        color: var(--mdc-theme-on-surface);
        background-color: var(--mdc-theme-background);
        overflow-x: hidden; 
      }

      .brand-font {
        font-family: var(--md-ref-typeface-brand);
      }

      .hero-section {
        height: calc(100vh - var(--top-app-bar-height));
        /*background-image: url('https://placehold.co/1920x1080/00796B/FFFFFF?text=Imagen+Principal+ANeKI');*/
        /*background-image: url('<?= heroImageUrl ?>'); */
        background-size: cover;
        background-position: center;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        position: relative;
        color: white;
      }
      .hero-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.3); 
      }
      .hero-content {
        position: relative;
        z-index: 1;
        padding: 20px;
      }
      .hero-title {
        font-family: var(--md-ref-typeface-brand);
        font-size: 3.5rem; 
        margin-bottom: 1rem;
        line-height: 1.2;
      }
      @media (max-width: 600px) {
        .hero-title {
          font-size: 2.5rem;
        }
        .hero-subtitle {
          font-size: 1.2rem;
        }
      }
      .hero-subtitle {
        font-size: 1.5rem;
        margin-bottom: 2rem;
      }

      .page-container { 
        max-width: 1200px;
        margin-left: auto;
        margin-right: auto;
        padding-left: 16px;
        padding-right: 16px;
      }

      .section-padding {
        padding-top: 48px;
        padding-bottom: 48px;
      }
      .section-title {
        font-family: var(--md-ref-typeface-brand);
        font-size: 2.8rem;
        color: var(--mdc-theme-primary);
        text-align: center;
        margin-bottom: 40px;
      }
      @media (max-width: 600px) {
        .section-title {
          font-size: 2.2rem;
        }
      }

      .category-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        background-color: var(--mdc-theme-surface);
        border-radius: 16px; 
        overflow: hidden; 
        box-shadow: 0 2px 4px rgba(0,0,0,0.1); /* Sombra sutil */
      }
      .category-card .mdc-card__primary-action {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 24px;
        width: 100%;
        box-sizing: border-box;
        flex-grow: 1; 
      }

      .category-card__icon-container {
        background-color: var(--mdc-theme-primary-container);
        color: var(--mdc-theme-on-primary-container);
        border-radius: 50%;
        padding: 16px;
        margin-bottom: 16px;
        display: inline-flex; 
      }
      .category-card__icon-container .material-icons {
        font-size: 36px;
      }
      .category-card__title {
        font-family: var(--md-ref-typeface-brand);
        font-size: 1.75rem; 
        color: var(--mdc-theme-primary);
        margin-bottom: 8px;
      }
      .category-card__description {
        margin-bottom: 16px;
        min-height: 60px; 
        flex-grow: 1;
        color: var(--mdc-theme-on-surface); /* Asegurar color de texto */
      }
      .category-card .mdc-card__actions {
        width: 100%; 
      }
      .category-card .mdc-button {
        margin-top: auto; 
      }

      .about-us-content {
        display: grid;
        grid-template-columns: 1fr; 
        gap: 32px;
        align-items: center;
        max-width: 960px; 
        margin: 0 auto; 
      }
      @media (min-width: 768px) { 
        .about-us-content {
          grid-template-columns: 2fr 3fr; 
          text-align: left;
        }
        .about-us-content > div:last-child { 
          text-align: left;
        }
      }

      .about-us-image {
        width: 100%;
        max-width: 400px; 
        height: auto;
        border-radius: 24px; 
        object-fit: cover;
        margin: 0 auto; 
        display: block;
        box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      }
      .map-preview-image {
        width: 100%;
        max-width: 700px;
        height: auto;
        border-radius: 16px;
        margin: 24px auto;
        display: block;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      }
      .latest-experience-card .mdc-card__media { 
        height: 200px;
        background-size: cover;
        background-position: center;
      }

      .grid-container {
        display: grid;
        gap: 24px;
      }
      @media (min-width: 600px) { 
        .grid-container {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      @media (min-width: 960px) { 
        .grid-container {
          grid-template-columns: repeat(3, 1fr);
        }
      }
      .mdc-top-app-bar {
        background-color: var(--mdc-theme-surface);
        color: var(--mdc-theme-on-surface);
      }
      .mdc-top-app-bar__title.brand-font {
        color: var(--mdc-theme-primary);
        font-size: 1.75rem;
      }
      .mdc-top-app-bar__navigation-icon {
        color: var(--mdc-theme-on-surface) !important;
      }
      .mdc-drawer {
        background-color: var(--mdc-theme-surface);
      }
      .mdc-drawer__title, .mdc-drawer__subtitle {
        font-family: var(--md-ref-typeface-brand, 'Special Elite');
        font-weight: bold;
        color: var(--mdc-theme-on-surface) !important;
      }
      .mdc-list .mdc-list-item {
        padding-top: 6px;
        padding-bottom: 6px;
      }
      .mdc-list-item__text {
        font-family: var(--md-ref-typeface-brand, 'Special Elite');
        font-weight: bold;
        margin-left: 12px;
      }

      .footer {
        background-color: #263238; /* Gris azulado oscuro, complementa bien el teal */
        color: #ECEFF1; /* Texto claro para el footer */
        padding: 40px 20px;
        text-align: center;
      }
      .footer a {
        color: #B0BEC5; /* Un gris azulado más claro para enlaces */
        text-decoration: none;
        margin: 0 10px;
      }
      .footer a:hover {
        color: var(--mdc-theme-secondary); /* Teal claro al pasar el ratón */
      }

      /* --- ESTILOS PARA DISPOSITIVOS TÁCTILES O SIN HOVER CONVENIENTE  or (max-width: 1024px)--- */
      @media ((hover: none) or (pointer: coarse)) and (orientation: portrait) {
        /* --- Ancho y Padding del Panel Lateral (Menú) --- */
        .mdc-drawer {
            width: 85vw !important;
        }
        .mdc-drawer__header {
            padding: 24px 5vw !important;
        }
        .mdc-list {
            padding: 0 5vw !important;
        }

        /* --- Alineación y Tamaño de Items de la Lista del Menú --- */
        .mdc-list-item {
            display: flex !important;
            align-items: center !important;
            padding-top: 1.5vh !important;
            padding-bottom: 1.5vh !important;
        }
        .mdc-list-item__graphic {
            font-size: 6vw !important;
        }
        .mdc-list-item__text {
            font-size: 5.5vw !important;
            margin-left: 4vw !important;
        }

        /* --- Título y Subtítulo del Menú --- */
        .mdc-drawer__title {
            font-size: 5.5vw !important;
        }
        .mdc-drawer__subtitle {
            font-size: 3.5vw !important;
        }

        /* --- Ajustes del Header (Barra de Navegación Superior) --- */
        .mdc-top-app-bar, .mdc-top-app-bar__row {
            height: 90px !important;
        }
        .mdc-top-app-bar--fixed-adjust {
            padding-top: 90px !important;
        }
        .mdc-top-app-bar__title.brand-font {
            font-size: 5vw !important;
            white-space: normal !important;
            line-height: 1.2 !important;
        }
        .mdc-top-app-bar__navigation-icon {
            font-size: 36px !important;
            width: 52px !important;
            height: 52px !important;
            position: relative !important;
            top: -5px !important;
        }
        .mdc-top-app-bar__section--align-start {
            display: flex !important;
            align-items: center !important;
            height: 100% !important;
        }

        /* --- Ajustes del Layout General de la Página --- */
        .grid-container {
            grid-template-columns: 1fr !important;
        }
        .about-us-content {
            grid-template-columns: 1fr !important;
            text-align: center !important;
        }
        .about-us-content > div:last-child {
              text-align: center !important;
        }

        /* --- Ajustes de Fuentes Principales de la Página --- */
        .hero-title {
            font-size: 8vw !important;
        }
        .hero-subtitle {
            font-size: 4vw !important;
        }
        .section-title {
            font-size: 6.5vw !important;
        }
        .category-card__title {
            font-size: 5.5vw !important;
        }     
      }
    </style>
  </head>
  <body class="mdc-typography">
    <aside class="mdc-drawer mdc-drawer--modal">
      <div class="mdc-drawer__header">
        <h3 class="mdc-drawer__title brand-font">ANeKI</h3>
        <br>
        <h6 class="mdc-drawer__subtitle">Gastroturismo</h6>
      </div>
      <div class="mdc-drawer__content">
        <nav class="mdc-list">
          <a class="mdc-list-item <?= activePage === 'inicio' ? 'mdc-list-item--activated' : '' ?>" href="<?= baseUrl ?>">
            <!--<a class="mdc-list-item mdc-list-item--activated" href="<?=baseUrl ?>?page=index" aria-current="page" tabindex="0">-->
            <span class="mdc-list-item__ripple"></span>
            <i class="material-icons mdc-list-item__graphic" aria-hidden="true">home</i>
            <span class="mdc-list-item__text">Inicio</span>
          </a>
          <a class="mdc-list-item <?= activePage === 'tapeo' ? 'mdc-list-item--activated' : '' ?>" href="<?= baseUrl ?>?page=tapeo">
            <span class="mdc-list-item__ripple"></span>
            <i class="material-icons mdc-list-item__graphic" aria-hidden="true">tapas</i>
            <span class="mdc-list-item__text">Tapear</span>
          </a>
          <a class="mdc-list-item <?= activePage === 'restaurantes' ? 'mdc-list-item--activated' : '' ?>" href="<?= baseUrl ?>?restaurantes">
            <span class="mdc-list-item__ripple"></span>
            <i class="material-icons mdc-list-item__graphic" aria-hidden="true">restaurant</i>
            <span class="mdc-list-item__text">Restaurantes</span>
          </a>
          <a class="mdc-list-item <?= activePage === 'tapeo' ? 'mdc-list-item--activated' : '' ?>" href="<?= baseUrl ?>?bodegas">
            <span class="mdc-list-item__ripple"></span>
            <i class="material-icons mdc-list-item__graphic" aria-hidden="true">local_dining</i>
            <span class="mdc-list-item__text">Eventos Culinarios</span>
          </a>
          <a class="mdc-list-item <?= activePage === 'turismo' ? 'mdc-list-item--activated' : '' ?>" href="<?= baseUrl ?>?turismo">
            <span class="mdc-list-item__ripple"></span>
            <i class="material-icons mdc-list-item__graphic" aria-hidden="true">explore</i>
            <span class="mdc-list-item__text">Turismo</span>
          </a>
          <a class="mdc-list-item <?= activePage === 'tiendas' ? 'mdc-list-item--activated' : '' ?>" href="<?= baseUrl ?>?tiendas">
            <span class="mdc-list-item__ripple"></span>
            <i class="material-icons mdc-list-item__graphic" aria-hidden="true">local_dining</i>
            <span class="mdc-list-item__text">Tiendas Gourmet</span>
          </a>      
          <a class="mdc-list-item <?= activePage === 'eventosculinarios' ? 'mdc-list-item--activated' : '' ?>" href="<?= baseUrl ?>?eventosculinarios">
            <span class="mdc-list-item__ripple"></span>
            <i class="material-icons mdc-list-item__graphic" aria-hidden="true">local_dining</i>
            <span class="mdc-list-item__text">Eventos Culinarios</span>
          </a>      
          <a class="mdc-list-item <?= activePage === 'eventosturisticos' ? 'mdc-list-item--activated' : '' ?>" href="<?= baseUrl ?>?eventosturisticos">
            <span class="mdc-list-item__ripple"></span>
            <i class="material-icons mdc-list-item__graphic" aria-hidden="true">festival</i>
            <span class="mdc-list-item__text">Eventos Turísticos</span>
          </a>
          <a class="mdc-list-item <?= activePage === 'carteles' ? 'mdc-list-item--activated' : '' ?>" href="<?= baseUrl ?>?carteles">
            <span class="mdc-list-item__ripple"></span>
            <i class="material-icons mdc-list-item__graphic" aria-hidden="true">emoji_objects</i>
            <span class="mdc-list-item__text">Curiosidades</span>
          </a>
          <a class="mdc-list-item" href="#mapa-target">
            <span class="mdc-list-item__ripple"></span>
            <i class="material-icons mdc-list-item__graphic" aria-hidden="true">map</i>
            <span class="mdc-list-item__text">Mapa Global</span>
          </a>
        </nav>
      </div>
    </aside>
    <div class="mdc-drawer-scrim"></div>
    <div class="mdc-drawer-app-content">
      <header class="mdc-top-app-bar app-bar" id="app-bar">
        <div class="mdc-top-app-bar__row">
          <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
            <button class="material-icons mdc-top-app-bar__navigation-icon mdc-icon-button" aria-label="Open navigation menu">menu</button>
            <span class="mdc-top-app-bar__title brand-font">ANeKI - Gastroturismo</span>
          </section>
        </div>
      </header>
      <main class="mdc-top-app-bar--fixed-adjust">
        <?!= pageContent; ?>
      </main>
      <footer class="footer">
        <div class="page-container">
          <div style="margin-bottom: 16px;">
            <a href="#about-us">Sobre Nosotros</a>
            <a href="#">Contacto</a>
            <a href="#">Política de Privacidad</a>
          </div>
          <p class="mdc-typography--caption">&copy; <span id="currentYear"></span> ANeKI - Gastroturismo. Todos los derechos reservados.</p>
        </div>
      </footer>  
    </div>
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    <script>
        // Inicialización de componentes MDC
        const topAppBarElement = document.querySelector('.mdc-top-app-bar');
        const topAppBar = new mdc.topAppBar.MDCTopAppBar(topAppBarElement);
        const drawer = mdc.drawer.MDCDrawer.attachTo(document.querySelector('.mdc-drawer'));
        
        topAppBar.listen('MDCTopAppBar:nav', () => {
            drawer.open = !drawer.open;
        });

        // Inicializar ripples
        const ripples = Array.from(document.querySelectorAll('.mdc-button, .mdc-card__primary-action, .mdc-list-item'));
        ripples.forEach(el => mdc.ripple.MDCRipple.attachTo(el));

        // Actualizar año en el footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();
        
        // --- Lógica para el desplazamiento suave (smooth scroll) ---
        const topAppBarHeight = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--top-app-bar-height').replace('px', '')) || 64;

        // Función para manejar el clic en enlaces de ancla
        const handleAnchorClick = (event) => {
            const anchorHref = event.currentTarget.getAttribute('href');
            
            // Si el enlace no es un ancla interna, no hacer nada especial
            if (!anchorHref || !anchorHref.startsWith('#')) {
                return;
            }

            event.preventDefault(); // Prevenir el salto brusco por defecto
            
            // Cerrar el menú lateral si está abierto
            if (drawer.open) {
                drawer.open = false;
            }

            const targetElement = document.querySelector(anchorHref);
            if (targetElement) {
                const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - topAppBarHeight;
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
        };

        // Aplicar el listener a los enlaces del menú lateral
        const drawerListItems = document.querySelectorAll('.mdc-drawer .mdc-list-item');
        drawerListItems.forEach(item => {
            item.addEventListener('click', handleAnchorClick);
        });
        
        // Aplicar el listener a otros enlaces de ancla en la página (ej. botón del héroe, footer)
        const pageAnchors = document.querySelectorAll('a[href^="#"]');
        pageAnchors.forEach(anchor => {
             // Asegurarnos de no añadir el listener dos veces a los elementos del drawer
            if (!anchor.classList.contains('mdc-list-item')) {
                 anchor.addEventListener('click', handleAnchorClick);
            }
        });

        // --- SCRIPT PARA APLICAR LA IMAGEN DE FONDO ---
        (function() {
          // Obtiene el elemento de la sección del héroe
          const heroSection = document.getElementById('hero');
          
          // Crea una variable de JavaScript con la URL de la imagen que viene del servidor
          const imageUrl = '<?= heroImageUrl ?>';
          
          // Aplica el estilo de la imagen de fondo directamente al elemento
          if (heroSection && imageUrl) {
            heroSection.style.backgroundImage = 'url(' + imageUrl + ')';
          }
        })();
    </script>
  </body>
</html>
